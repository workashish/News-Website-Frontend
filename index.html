<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsHub - Modern News Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Check for dark mode preference before page loads
        if (localStorage.getItem('darkMode') === 'true' || 
            (localStorage.getItem('darkMode') === null && 
            window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            document.documentElement.classList.remove('light');
        }
        
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {}
            }
        }
    </script>
    <style>
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes shine {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Enhanced animations and effects */
        .animate-slide-in { animation: slideIn 0.5s ease-out forwards; }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        .animate-pulse-subtle { animation: pulse 3s ease-in-out infinite; }
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-spin { animation: spin 0.8s linear infinite; }
        
        /* New gradient backgrounds for light/dark modes */
        .gradient-bg-light { 
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 50%, #dbeeff 100%);
        }
        .gradient-bg-dark { 
            background: linear-gradient(135deg, #172554 0%, #1e3a8a 100%);
        }
        
        /* Enhanced category buttons */
        .category-btn { 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            background: linear-gradient(45deg, #f8fafc, #f1f5f9);
            color: #1e293b;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
        }
        .category-btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
        }
        .category-btn.active { 
            background: linear-gradient(45deg, #1d4ed8, #3b82f6);
            color: white;
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.3);
        }
        .dark .category-btn { 
            background: linear-gradient(45deg, #334155, #475569);
            color: #f1f5f9;
        }
        .dark .category-btn.active { 
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: white;
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.5);
        }
        
        /* Card styling enhancements */
        .news-card { 
            position: relative; 
            overflow: hidden; 
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .news-card:hover { 
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.08);
        }
        .dark .news-card {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2), 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        .dark .news-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3), 0 4px 6px rgba(0, 0, 0, 0.25);
        }
        .news-card .card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%);
            z-index: 1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .news-card:hover .card-overlay {
            opacity: 1;
        }
        .news-card .description { 
            position: absolute; 
            bottom: 0; 
            left: 0; 
            right: 0; 
            background: rgba(15, 23, 42, 0.85); 
            backdrop-filter: blur(4px);
            color: white; 
            padding: 1rem; 
            transform: translateY(100%); 
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
        }
        .dark .news-card .description {
            background: rgba(2, 6, 23, 0.9);
        }
        .news-card:hover .description { transform: translateY(0); }
        
        /* Custom image hover effect */
        .news-card img {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .news-card:hover img {
            transform: scale(1.05);
        }
        
        /* Other UI enhancements */
        .zoom-125 { zoom: 125%; }
        .zoom-150 { zoom: 150%; }
        
        /* Shimmer effect for loading states */
        .shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0) 100%
            );
            background-size: 200% 100%;
            animation: shine 2s infinite linear;
        }
        .dark .shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.05) 50%, 
                rgba(255,255,255,0) 100%
            );
        }
        
        /* Modern search input */
        .search-container {
            position: relative;
            transition: all 0.3s ease;
        }
        .search-container:focus-within {
            transform: scale(1.02);
        }
        
        /* Live indicator pulse */
        .live-indicator {
            position: relative;
        }
        .live-indicator::before {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #10b981;
            border-radius: 50%;
            left: -12px;
            top: 50%;
            transform: translateY(-50%);
            animation: pulse 1.5s infinite;
        }
        
        /* Top story badge */
        .top-story-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(220, 38, 38, 0.9);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Specific dark mode fixes */
        .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
            color: white;
        }
        
        .dark p {
            color: #e2e8f0;
        }
        
        /* Apply transitions to everything for smoother dark/light switches */
        * {
            transition-property: background-color, border-color, color, fill, stroke;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white font-sans antialiased min-h-screen flex flex-col transition-colors duration-500" id="body">
    <!-- Header -->
    <div class="bg-gradient-to-r from-blue-600 to-indigo-700 dark:from-blue-900 dark:to-indigo-900 text-white shadow-lg transition-all duration-500">
        <div class="container mx-auto px-4 max-w-7xl">
            <!-- Navigation Bar -->
            <div class="py-4 flex flex-col md:flex-row justify-between items-center gap-4 border-b border-blue-500/30 dark:border-blue-700/30">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-2 w-full md:w-auto justify-center md:justify-start">
                    <div class="bg-white text-blue-600 p-2 rounded-lg shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold tracking-tight text-white">NewsHub</h1>
                </div>
                
                <!-- Navigation Links -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" id="navHome" class="text-blue-100 hover:text-white font-medium transition-colors">Home</a>
                    <a href="#categoryList" id="navCategories" class="text-blue-100 hover:text-white font-medium transition-colors">Categories</a>
                    <a href="#trendingNews" id="navTrending" class="text-blue-100 hover:text-white font-medium transition-colors">Trending</a>
                    <a href="#newsletterSection" id="navSubscriptions" class="text-blue-100 hover:text-white font-medium transition-colors">Subscriptions</a>
                    <a href="#footer" id="navAbout" class="text-blue-100 hover:text-white font-medium transition-colors">About</a>
                </nav>
                
                <!-- Search and Controls -->
                <div class="flex flex-col sm:flex-row items-center w-full md:w-auto gap-4 sm:gap-4">
                    <div class="search-container relative w-full sm:w-auto">
                        <input 
                            type="search" 
                            id="searchInput" 
                            placeholder="Search news..." 
                            class="w-full sm:w-64 pl-10 pr-4 py-2 rounded-full bg-white/20 border border-blue-400/30 focus:outline-none focus:ring-2 focus:ring-white text-white placeholder-blue-100 transition-all duration-300"
                            aria-label="Search news articles"
                        >
                        <svg class="w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button id="themeToggle" class="p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors duration-300" aria-label="Toggle dark mode">
                            <svg id="themeIcon" class="w-5 h-5 text-blue-100" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                            </svg>
                        </button>
                        <select id="zoomSelect" class="p-2 rounded-lg bg-white/20 text-blue-100 border-none focus:outline-none focus:ring-2 focus:ring-white transition-colors duration-300" aria-label="Adjust text size">
                            <option value="100">100%</option>
                            <option value="125">125%</option>
                            <option value="150">150%</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Hero Content Area -->
            <div class="py-10 md:py-16 grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                <!-- Welcome Message & Featured Story -->
                <div class="md:col-span-3 animate-fade-in">
                    <span class="inline-block px-3 py-1 bg-blue-500/30 text-blue-100 rounded-full text-sm font-medium mb-4">Breaking News</span>
                    <h2 class="text-4xl font-bold leading-tight mb-4">Stay Informed with the Latest Headlines</h2>
                    <p class="text-blue-100 mb-6 text-lg max-w-2xl">Discover trending stories and breaking news from around the world, curated just for you.</p>
                    
                    <div class="flex flex-wrap gap-3 mb-6">
                        <button id="browseCategories" class="px-4 py-2 bg-white text-blue-700 rounded-lg font-medium hover:bg-blue-50 transition-colors flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
                            </svg>
                            Browse Categories
                        </button>
                        <button id="subscribeAlerts" class="px-4 py-2 bg-transparent border border-white text-white rounded-lg font-medium hover:bg-white/10 transition-colors flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                            </svg>
                            Subscribe to Alerts
                        </button>
                    </div>
                    
                    <div class="flex items-center space-x-2 text-sm text-blue-100">
                        <span class="live-indicator ml-3">Live Updates</span>
                        <span class="inline-block w-1 h-1 rounded-full bg-blue-100"></span>
                        <span>Last updated: <time id="lastUpdated">Just now</time></span>
                        <button id="refreshButton" class="ml-2 p-1 rounded-full hover:bg-white/10 transition-colors" aria-label="Refresh now">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Featured Story Card -->
                <div class="md:col-span-2 animate-slide-in">
                    <div class="bg-white/10 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 border border-white/20">
                        <div class="relative h-48 overflow-hidden">
                            <img src="https://picsum.photos/800/600?random=1" alt="Featured story" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gradient-to-t from-blue-900/80 to-transparent"></div>
                            <div class="absolute bottom-0 left-0 p-4">
                                <span class="px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-md">TOP STORY</span>
                                <h3 class="text-white text-xl font-bold mt-2">AI Breakthrough: Next-Gen Language Models Show Human-Like Reasoning</h3>
                                <p class="text-blue-100 text-sm mt-1">Researchers have unveiled a revolutionary AI system that demonstrates advanced reasoning capabilities.</p>
                            </div>
                        </div>
                        <div class="p-4 flex justify-between items-center">
                            <div class="flex items-center space-x-2">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Author" class="w-8 h-8 rounded-full">
                                <span class="text-sm text-blue-100">Dr. James Wilson</span>
                            </div>
                            <button class="text-blue-100 hover:text-white">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12 max-w-7xl flex-grow dark:bg-slate-900">
        <!-- Category Selection -->
        <div class="flex flex-wrap gap-4 mb-12 justify-center overflow-x-auto py-2" id="categoryList"></div>

        <!-- Trending Section -->
        <section class="mb-16 dark:bg-slate-900">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-slate-800 dark:text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                    Trending Now
                </h2>
                <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline font-medium flex items-center">
                    View All
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </div>
            <div id="trendingNews" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
        </section>

        <!-- Latest News Section -->
        <section class="dark:bg-slate-900">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-slate-800 dark:text-white flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Latest News
                </h2>
                <span id="liveUpdate" class="text-sm text-green-600 dark:text-green-500 font-medium flex items-center live-indicator">
                    Live Updates
                </span>
            </div>
            <div id="newsFeed" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
            
            <div class="mt-12 text-center">
                <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg transform hover:-translate-y-1 duration-300">
                    Load More News
                </button>
            </div>
        </section>
    </main>

    <!-- Newsletter -->
    <section id="newsletterSection" class="bg-slate-100 dark:bg-slate-800 py-16 transition-colors duration-500">
        <div class="container mx-auto px-4 max-w-7xl">
            <div class="max-w-xl mx-auto text-center">
                <h3 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">Subscribe to Our Newsletter</h3>
                <p class="text-slate-600 dark:text-slate-300 mb-6">Get the latest news delivered to your inbox every morning.</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input 
                        type="email" 
                        placeholder="Enter your email" 
                        class="flex-grow px-4 py-3 rounded-lg bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900 dark:text-white"
                    >
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg">
                        Subscribe
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer" class="bg-slate-900 text-slate-200 py-12 transition-colors duration-500">
        <div class="container mx-auto px-4 max-w-7xl">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="bg-blue-600 text-white p-1 rounded">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                            </svg>
                        </div>
                        <span class="text-xl font-bold">NewsHub</span>
                    </div>
                    <p class="text-slate-400 mb-4">Your trusted source for latest news and trending stories from around the world.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-slate-400 hover:text-white transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
                        </a>
                        <a href="#" class="text-slate-400 hover:text-white transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="#" class="text-slate-400 hover:text-white transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Categories</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Politics</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Business</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Technology</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Science</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Health</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Company</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">About Us</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Careers</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Contact</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-white transition-colors">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact Us</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span class="text-slate-400">123 News Street, San Francisco, CA 94107</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <span class="text-slate-400">info@newshub.com</span>
                        </li>
                        <li class="flex items-start space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            <span class="text-slate-400">+1 (555) 123-4567</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-sm text-slate-400">&copy; 2025 NewsHub. All rights reserved.</p>
                <div class="flex space-x-4 mt-4 md:mt-0">
                    <a href="#" class="text-sm text-slate-400 hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="text-sm text-slate-400 hover:text-white transition-colors">Terms of Service</a>
                    <a href="#" class="text-sm text-slate-400 hover:text-white transition-colors">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced news data with better content and images
        const newsData = [
            { 
            id: 1, 
            title: "AI Breakthrough: Next-Gen Language Models Show Human-Like Reasoning", 
            category: "Technology", 
            trending: true, 
            content: "Researchers have unveiled a revolutionary AI system that demonstrates advanced reasoning capabilities previously thought to be uniquely human. The system can solve complex problems, understand nuanced instructions, and even generate creative solutions to novel challenges.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=1", 
            gradient: "from-indigo-500 to-blue-600",
            isTopStory: true 
            },
            { 
            id: 2, 
            title: "Global Markets Rally as Economic Outlook Improves", 
            category: "Business", 
            trending: false, 
            content: "Stock markets worldwide surged today as new economic data showed stronger-than-expected growth and inflation concerns easing. Analysts attribute the rally to improved consumer confidence and robust corporate earnings reports.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=2", 
            gradient: "from-emerald-500 to-green-600",
            isTopStory: false
            },
            { 
            id: 3, 
            title: "Habitable Exoplanet Discovered Just 40 Light Years Away", 
            category: "Science", 
            trending: true, 
            content: "Astronomers have identified a potentially habitable exoplanet orbiting a stable star just 40 light years from Earth. The planet, named Kepler-186f, exists within the 'Goldilocks zone' where liquid water could exist on its surface.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=3", 
            gradient: "from-amber-500 to-yellow-600",
            isTopStory: true
            },
            { 
            id: 4, 
            title: "Olympic Committee Announces Major Changes for 2028 Games", 
            category: "Sports", 
            trending: false, 
            content: "The International Olympic Committee has revealed significant changes to the Olympic format starting with the 2028 Los Angeles Games, including the addition of three new sports and revised qualification procedures.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=4", 
            gradient: "from-red-500 to-rose-600",
            isTopStory: false
            },
            { 
            id: 5, 
            title: "Revolutionary Cancer Treatment Shows 94% Success Rate in Clinical Trials", 
            category: "Health", 
            trending: true, 
            content: "A groundbreaking immunotherapy approach has demonstrated a 94% complete response rate in patients with advanced-stage lymphoma. The treatment uses modified immune cells to target and eliminate cancer cells with unprecedented precision.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=5", 
            gradient: "from-teal-500 to-cyan-600",
            isTopStory: true
            },
            { 
            id: 6, 
            title: "Renewable Energy Surpasses Fossil Fuels in Global Power Generation", 
            category: "Environment", 
            trending: false, 
            content: "For the first time in history, renewable energy sources have generated more electricity globally than fossil fuels. Solar and wind power installations have doubled in the past three years, driving this historic transition.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=6", 
            gradient: "from-green-500 to-emerald-600",
            isTopStory: false
            },
            { 
            id: 7, 
            title: "Breakthrough in Quantum Computing Achieved by Researchers", 
            category: "Technology", 
            trending: true, 
            content: "Scientists have developed a quantum computer capable of solving problems that were previously unsolvable, marking a major milestone in the field of quantum computing.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=7", 
            gradient: "from-indigo-500 to-purple-600",
            isTopStory: false
            },
            { 
            id: 8, 
            title: "Global Leaders Meet to Discuss Climate Change Solutions", 
            category: "Environment", 
            trending: true, 
            content: "World leaders have gathered to discuss actionable solutions to combat climate change and reduce global carbon emissions.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=8", 
            gradient: "from-green-500 to-teal-600",
            isTopStory: true
            },
            { 
            id: 9, 
            title: "New Study Links Diet to Improved Mental Health", 
            category: "Health", 
            trending: false, 
            content: "A recent study has found that a balanced diet rich in fruits and vegetables can significantly improve mental health and reduce symptoms of depression.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=9", 
            gradient: "from-teal-500 to-blue-600",
            isTopStory: false
            },
            { 
            id: 10, 
            title: "Tech Giant Announces Revolutionary Smartphone Features", 
            category: "Technology", 
            trending: true, 
            content: "A leading tech company has unveiled its latest smartphone, featuring groundbreaking technology such as foldable screens and AI-powered cameras.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=10", 
            gradient: "from-blue-500 to-indigo-600",
            isTopStory: true
            },
            { 
            id: 11, 
            title: "Historic Peace Agreement Signed Between Nations", 
            category: "World", 
            trending: true, 
            content: "Two nations have signed a historic peace agreement, ending decades of conflict and paving the way for economic and cultural collaboration.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=11", 
            gradient: "from-red-500 to-orange-600",
            isTopStory: true
            },
            { 
            id: 12, 
            title: "Breakthrough in Renewable Energy Storage Technology", 
            category: "Environment", 
            trending: false, 
            content: "Researchers have developed a new energy storage system that could revolutionize the use of renewable energy by making it more reliable and efficient.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=12", 
            gradient: "from-green-500 to-yellow-600",
            isTopStory: false
            },
            { 
            id: 13, 
            title: "Major Advancements in Space Exploration Announced", 
            category: "Science", 
            trending: true, 
            content: "NASA has announced plans for a new mission to explore the outer planets, including the possibility of sending humans to Mars within the next decade.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=13", 
            gradient: "from-purple-500 to-indigo-600",
            isTopStory: true
            },
            { 
            id: 14, 
            title: "Global Economy Shows Signs of Recovery Post-Pandemic", 
            category: "Business", 
            trending: false, 
            content: "Economic indicators suggest that the global economy is recovering faster than expected, with growth in key sectors such as technology and healthcare.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=14", 
            gradient: "from-yellow-500 to-orange-600",
            isTopStory: false
            },
            { 
            id: 15, 
            title: "New AI Tool Revolutionizes Medical Diagnostics", 
            category: "Health", 
            trending: true, 
            content: "A new AI-powered diagnostic tool is helping doctors identify diseases with unprecedented accuracy, potentially saving millions of lives.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=15", 
            gradient: "from-teal-500 to-cyan-600",
            isTopStory: true
            },
            { 
            id: 16, 
            title: "Breakthrough in Cancer Research Offers New Hope", 
            category: "Health", 
            trending: true, 
            content: "Scientists have discovered a new treatment for cancer that has shown remarkable success in early clinical trials.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=16", 
            gradient: "from-pink-500 to-red-600",
            isTopStory: true
            },
            { 
            id: 17, 
            title: "Tech Startups Drive Innovation in Renewable Energy", 
            category: "Technology", 
            trending: false, 
            content: "A wave of new startups is driving innovation in renewable energy, with breakthroughs in solar, wind, and battery technology.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=17", 
            gradient: "from-blue-500 to-green-600",
            isTopStory: false
            },
            { 
            id: 18, 
            title: "Global Wildlife Populations Show Signs of Recovery", 
            category: "Environment", 
            trending: false, 
            content: "Conservation efforts are paying off as global wildlife populations show signs of recovery, with several species being removed from the endangered list.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=18", 
            gradient: "from-green-500 to-teal-600",
            isTopStory: false
            },
            { 
            id: 19, 
            title: "New Space Telescope Captures Stunning Images of Distant Galaxies", 
            category: "Science", 
            trending: true, 
            content: "The latest space telescope has captured breathtaking images of distant galaxies, providing new insights into the origins of the universe.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=19", 
            gradient: "from-purple-500 to-pink-600",
            isTopStory: true
            },
            { 
            id: 20, 
            title: "Major Breakthrough in Fusion Energy Achieved", 
            category: "Science", 
            trending: true, 
            content: "Scientists have achieved a major breakthrough in fusion energy, bringing us closer to a future of unlimited clean energy.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=20", 
            gradient: "from-orange-500 to-red-600",
            isTopStory: true
            },
            { 
            id: 21, 
            title: "Global Sports Event Draws Record-Breaking Viewership", 
            category: "Sports", 
            trending: false, 
            content: "The latest global sports event has drawn record-breaking viewership, with fans tuning in from around the world to watch the action.",
            timestamp: new Date(), 
            image: "https://picsum.photos/800/600?random=21", 
            gradient: "from-red-500 to-yellow-600",
            isTopStory: false
            },
        ];

        const categories = ["All News", "Politics", "Business", "Technology", "Science", "Health", "Sports", "Entertainment", "Environment", "World"];
        let newsFeed = [...newsData];
        let selectedCategory = "All News";

        // DOM Elements
        const elements = {
            body: document.getElementById('body'),
            categoryList: document.getElementById('categoryList'),
            trendingNews: document.getElementById('trendingNews'),
            newsFeed: document.getElementById('newsFeed'),
            searchInput: document.getElementById('searchInput'),
            themeToggle: document.getElementById('themeToggle'),
            themeIcon: document.getElementById('themeIcon'),
            zoomSelect: document.getElementById('zoomSelect'),
        };

        // Render Functions
        function renderCategories() {
            elements.categoryList.innerHTML = categories.map((category, index) => `
                <button 
                    class="category-btn rounded-full py-2 px-6 font-medium shadow-md hover:shadow-lg ${selectedCategory === category ? 'active animate-pulse-subtle' : ''}"
                    data-category="${category}"
                    style="animation-delay: ${index * 0.1}s"
                    aria-label="Filter by ${category}">
                    ${category}
                </button>
            `).join('');
        }

        function renderTrending() {
            const trending = newsFeed.filter(item => item.trending).slice(0, 3);
            elements.trendingNews.innerHTML = trending.map((item, index) => `
                <article 
                    class="news-card bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden transition-all animate-slide-in" 
                    style="animation-delay: ${index * 0.1}s"
                    tabindex="0">
                    <div class="relative h-48 overflow-hidden">
                        <img src="${item.image}" alt="${item.title}" class="w-full h-full object-cover">
                        <div class="card-overlay"></div>
                        ${item.isTopStory ? '<span class="top-story-badge">Top Story</span>' : ''}
                        <span class="absolute top-3 left-3 px-3 py-1 rounded-full text-white text-xs font-semibold bg-gradient-to-r ${item.gradient} shadow-md">
                            ${item.category}
                        </span>
                    </div>
                    <div class="p-5">
                        <h3 class="font-bold text-xl text-slate-800 dark:text-white mb-3 line-clamp-2">${item.title}</h3>
                        <time class="text-xs text-slate-500 dark:text-slate-400 flex items-center mb-2" datetime="${item.timestamp.toISOString()}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            ${formatTimeAgo(item.timestamp)}
                        </time>
                        <div class="description">${item.content}</div>
                    </div>
                </article>
            `).join('');
        }

        function renderNewsFeed() {
            elements.newsFeed.innerHTML = newsFeed.map((item, index) => `
                <article 
                    class="news-card bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden transition-all animate-slide-in" 
                    style="animation-delay: ${index * 0.1}s"
                    tabindex="0">
                    <div class="relative h-48 overflow-hidden">
                        <img src="${item.image}" alt="${item.title}" class="w-full h-full object-cover">
                        <div class="card-overlay"></div>
                        ${item.isTopStory ? '<span class="top-story-badge">Top Story</span>' : ''}
                        <span class="absolute top-3 left-3 px-3 py-1 rounded-full text-white text-xs font-semibold bg-gradient-to-r ${item.gradient} shadow-md">
                            ${item.category}
                        </span>
                    </div>
                    <div class="p-5">
                        <h3 class="font-bold text-xl text-slate-800 dark:text-white mb-3 line-clamp-2">${item.title}</h3>
                        <time class="text-xs text-slate-500 dark:text-slate-400 flex items-center mb-2" datetime="${item.timestamp.toISOString()}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            ${formatTimeAgo(item.timestamp)}
                        </time>
                        <div class="description dark:bg-slate-700 dark:text-white">${item.content}</div>
                    </div>
                </article>
            `).join('');
        }

        // Format time as "X minutes/hours/days ago"
        function formatTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            let interval = Math.floor(seconds / 31536000);
            if (interval >= 1) {
                return interval + " year" + (interval === 1 ? "" : "s") + " ago";
            }
            
            interval = Math.floor(seconds / 2592000);
            if (interval >= 1) {
                return interval + " month" + (interval === 1 ? "" : "s") + " ago";
            }
            
            interval = Math.floor(seconds / 86400);
            if (interval >= 1) {
                return interval + " day" + (interval === 1 ? "" : "s") + " ago";
            }
            
            interval = Math.floor(seconds / 3600);
            if (interval >= 1) {
                return interval + " hour" + (interval === 1 ? "" : "s") + " ago";
            }
            
            interval = Math.floor(seconds / 60);
            if (interval >= 1) {
                return interval + " minute" + (interval === 1 ? "" : "s") + " ago";
            }
            
            return "Just now";
        }

        // Event Handlers
        function filterByCategory(category) {
            selectedCategory = category;
            newsFeed = category === 'All News' 
                ? [...newsData] 
                : newsData.filter(item => item.category === category);
                
            // Add animation classes to affected elements
            document.querySelectorAll('.news-card').forEach(card => {
                card.classList.add('opacity-0');
                setTimeout(() => {
                    card.classList.remove('opacity-0');
                }, 300);
            });
            
            renderCategories();
            renderNewsFeed();
            renderTrending();
        }

        function handleSearch() {
            const query = elements.searchInput.value.toLowerCase();
            newsFeed = newsData.filter(item => 
                item.title.toLowerCase().includes(query) || 
                item.content.toLowerCase().includes(query)
            );
            
            // Add animation for search results
            document.querySelectorAll('.news-card').forEach(card => {
                card.classList.add('opacity-0');
                setTimeout(() => {
                    card.classList.remove('opacity-0');
                }, 300);
            });
            
            renderNewsFeed();
            renderTrending();
        }

        function toggleTheme() {
            // Toggle dark class on HTML element (required for Tailwind dark mode)
            document.documentElement.classList.toggle('dark');
            
            // Also toggle on body for our custom styles
            elements.body.classList.toggle('dark');
            
            // Force re-render of styles by triggering a small DOM change
            document.body.style.display = 'none';
            document.body.offsetHeight; // Trigger reflow
            document.body.style.display = '';
            
            // Apply transition effect to the body
            elements.body.style.transition = "background-color 0.5s ease, color 0.5s ease";
            
            const isDark = document.documentElement.classList.contains('dark');
            
            // Update theme icon with animation
            elements.themeIcon.classList.add('animate-pulse');
            setTimeout(() => {
                elements.themeIcon.classList.remove('animate-pulse');
            }, 500);
            
            elements.themeIcon.innerHTML = isDark 
                ? '<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" clip-rule="evenodd" />'
                : '<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />';
                
            // Save user preference
            localStorage.setItem('darkMode', isDark);
            
            // Additional force refresh for stubborn elements
            setTimeout(() => {
                const event = new Event('resize');
                window.dispatchEvent(event);
            }, 50);
        }

        function handleZoom() {
            const zoomLevel = elements.zoomSelect.value;
            document.body.classList.remove('zoom-125', 'zoom-150');
            if (zoomLevel !== '100') document.body.classList.add(`zoom-${zoomLevel}`);
            
            // Save user preference
            localStorage.setItem('zoomLevel', zoomLevel);
        }

        // Simulated Live Updates with improved content generation
        function simulateLiveUpdate() {
            setInterval(() => {
                const randomCategory = categories.slice(1)[Math.floor(Math.random() * (categories.length - 1))];
                const gradients = ["from-indigo-500 to-blue-600", "from-emerald-500 to-green-600", "from-amber-500 to-yellow-600", "from-red-500 to-rose-600", "from-teal-500 to-cyan-600"];
                
                // Generate more realistic headlines based on category
                let title, content, image;
                
                switch(randomCategory) {
                    case 'Technology':
                        title = `New ${['AI Platform', 'Quantum Computer', '5G Technology', 'VR Headset'][Math.floor(Math.random() * 4)]} Unveiled by ${['Google', 'Apple', 'Microsoft', 'Meta'][Math.floor(Math.random() * 4)]}`;
                        content = "Revolutionary technology promises to transform how we interact with digital systems and process information. Industry experts are calling it a game-changer.";
                        image = "https://picsum.photos/800/600?random=22";
                        break;
                    case 'Business':
                        title = `${['Amazon', 'Tesla', 'JPMorgan', 'Walmart'][Math.floor(Math.random() * 4)]} ${['Reports Record Profits', 'Announces Expansion', 'Acquires Startup', 'Faces Regulatory Scrutiny'][Math.floor(Math.random() * 4)]}`;
                        content = "The company's latest financial moves have significant implications for the market. Analysts are closely watching the developments.";
                        image = "https://picsum.photos/800/600?random=23";
                        break;
                    case 'Health':
                        title = `${['New Study', 'Breakthrough Research', 'Clinical Trial', 'Global Initiative'][Math.floor(Math.random() * 4)]} ${['Shows Promise', 'Changes Guidelines', 'Challenges Assumptions', 'Gains Approval'][Math.floor(Math.random() * 4)]} in ${['Cancer Treatment', 'Heart Disease', 'Mental Health', 'Vaccine Development'][Math.floor(Math.random() * 4)]}`;
                        content = "Medical researchers have announced promising results that could lead to improved patient outcomes and treatment protocols.";
                        image = "https://picsum.photos/800/600?random=24";
                        break;
                    default:
                        title = `Breaking: ${randomCategory} Update`;
                        content = "New development reported just now with potentially far-reaching implications. Experts are analyzing the situation.";
                        image = `https://picsum.photos/800/600?random=?${Math.floor(Math.random() * 100)}`;
                }
                
                const newArticle = {
                    id: Date.now(),
                    title: title,
                    category: randomCategory,
                    content: content,
                    timestamp: new Date(),
                    trending: Math.random() > 0.7,
                    image: image + "?t=" + Date.now(),
                    gradient: gradients[Math.floor(Math.random() * gradients.length)],
                    isTopStory: Math.random() > 0.8
                };
                
                // Animate the live update indicator
                const liveIndicator = document.getElementById('liveUpdate');
                liveIndicator.classList.add('animate-pulse');
                setTimeout(() => {
                    liveIndicator.classList.remove('animate-pulse');
                }, 1000);
                
                newsData.unshift(newArticle);
                if (selectedCategory === 'All News' || selectedCategory === newArticle.category) {
                    newsFeed.unshift(newArticle);
                    
                    // Animate new articles
                    setTimeout(() => {
                        renderNewsFeed();
                        renderTrending();
                        
                        // Highlight the newest article
                        const newestArticle = document.querySelector('#newsFeed article:first-child');
                        if (newestArticle) {
                            newestArticle.classList.add('ring-2', 'ring-blue-500');
                            setTimeout(() => {
                                newestArticle.classList.remove('ring-2', 'ring-blue-500');
                            }, 3000);
                        }
                    }, 500);
                }
            }, 30000); // Every 30 seconds for a more realistic pace
        }

        // Add last updated time functionality
        function updateLastUpdatedTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('lastUpdated').textContent = `${hours}:${minutes}`;
        }

        // Load user preferences
        function loadUserPreferences() {
            // Check user preference or system preference
            const darkModePreference = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (darkModePreference === 'true' || (darkModePreference === null && prefersDark)) {
                document.documentElement.classList.add('dark');
                elements.body.classList.add('dark');
                elements.themeIcon.innerHTML = '<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" clip-rule="evenodd" />';
            }
            
            // Load zoom preference
            const zoomPreference = localStorage.getItem('zoomLevel');
            if (zoomPreference) {
                elements.zoomSelect.value = zoomPreference;
                if (zoomPreference !== '100') {
                    document.body.classList.add(`zoom-${zoomPreference}`);
                }
            }
        }

        // Navigation and scroll functions
        function setupNavigation() {
            // Nav menu links
            document.getElementById('navHome').addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            document.getElementById('navCategories').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('categoryList').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('navTrending').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('trendingNews').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('navSubscriptions').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('newsletterSection').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('navAbout').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('footer').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Hero buttons
            document.getElementById('browseCategories').addEventListener('click', function() {
                document.getElementById('categoryList').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('subscribeAlerts').addEventListener('click', function() {
                document.getElementById('newsletterSection').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Refresh button
            document.getElementById('refreshButton').addEventListener('click', function() {
                // Add spin animation to the refresh icon
                this.classList.add('animate-spin');
                
                // Simulate news refresh
                setTimeout(() => {
                    // Get a new article to insert at the top
                    const randomCategory = categories.slice(1)[Math.floor(Math.random() * (categories.length - 1))];
                    const gradients = ["from-indigo-500 to-blue-600", "from-emerald-500 to-green-600", "from-amber-500 to-yellow-600", "from-red-500 to-rose-600", "from-teal-500 to-cyan-600"];
                    
                    const newArticle = {
                        id: Date.now(),
                        title: `Breaking: ${randomCategory} Update Just Now`,
                        category: randomCategory,
                        content: "This just in! Breaking news has been added after manually refreshing the feed.",
                        timestamp: new Date(),
                        trending: true,
                        image: `https://picsum.photos/800/600?random=?${Math.floor(Math.random() * 100)}` + "?t=" + Date.now(),
                        gradient: gradients[Math.floor(Math.random() * gradients.length)],
                        isTopStory: true
                    };
                    
                    // Add to data and refresh the UI
                    newsData.unshift(newArticle);
                    newsFeed.unshift(newArticle);
                    renderNewsFeed();
                    renderTrending();
                    
                    // Update timestamp
                    updateLastUpdatedTime();
                    
                    // Remove spin animation
                    this.classList.remove('animate-spin');
                    
                    // Add a flash effect to the newly added content
                    const newestArticle = document.querySelector('#newsFeed article:first-child');
                    if (newestArticle) {
                        newestArticle.classList.add('ring-2', 'ring-blue-500');
                        setTimeout(() => {
                            newestArticle.classList.remove('ring-2', 'ring-blue-500');
                        }, 3000);
                    }
                }, 800);
            });
        }

        // Event Listeners
        elements.categoryList.addEventListener('click', (e) => {
            const category = e.target.dataset.category;
            if (category) filterByCategory(category);
        });

        elements.searchInput.addEventListener('input', debounce(handleSearch, 300));
        elements.themeToggle.addEventListener('click', toggleTheme);
        elements.zoomSelect.addEventListener('change', handleZoom);

        // Add scroll animation
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            
            // Parallax effect for header on scroll
            const header = document.querySelector('header');
            if (scrolled > 50) {
                header.classList.add('py-2', 'shadow-md');
                header.classList.remove('py-4', 'shadow-lg');
            } else {
                header.classList.add('py-4', 'shadow-lg');
                header.classList.remove('py-2', 'shadow-md');
            }
            
            // Animate elements as they scroll into view
            document.querySelectorAll('.animate-on-scroll:not(.animated)').forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('animated');
                }
            });
        });

        // Debounce utility
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Initialize
        function init() {
            loadUserPreferences();
            renderCategories();
            renderTrending();
            renderNewsFeed();
            simulateLiveUpdate();
            updateLastUpdatedTime();
            setupNavigation();
            
            // Update the last updated time every minute
            setInterval(updateLastUpdatedTime, 60000);
            
            // Add animation classes to initial elements
            document.querySelectorAll('.news-card').forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Force an initial theme state check
            setTimeout(() => {
                const isDark = document.documentElement.classList.contains('dark');
                if (isDark) {
                    document.body.classList.add('dark');
                    elements.themeIcon.innerHTML = '<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" clip-rule="evenodd" />';
                }
            }, 0);
        }

        init();
    </script>
</body>
</html>